(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{259:function(t,e,o){var content=o(268);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(21).default)("48c8fda2",content,!0,{sourceMap:!1})},263:function(t,e,o){"use strict";var r={props:{label:String,width:{default:"100%"},height:{default:"100%"}}},n=o(267),l=o(5);var component=Object(l.a)(r,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:t.$style.loading}},[o("div",{style:{width:t.width,height:t.height,"margin-bottom":t.label?"20pt":""},attrs:{id:t.$style.spinner}},[o("div",{attrs:{id:t.$style.rect1}}),t._v(" "),o("div",{attrs:{id:t.$style.rect2}}),t._v(" "),o("div",{attrs:{id:t.$style.rect3}}),t._v(" "),o("div",{attrs:{id:t.$style.rect4}}),t._v(" "),o("div",{attrs:{id:t.$style.rect5}})]),t._v("\n  "+t._s(t.label)+"\n")])},[],!1,function(t){this.$style=n.default.locals||n.default},null,null);e.a=component.exports},267:function(t,e,o){"use strict";var r=o(259),n=o.n(r);e.default=n.a},268:function(t,e,o){(e=t.exports=o(20)(!1)).push([t.i,"#loading_14NRk{display:flex;flex-direction:column;align-items:center;justify-content:center;position:absolute;top:0;left:0;width:100%;height:100%;background-color:hsla(0,0%,100%,.8);z-index:100}#spinner_1XJX2{text-align:center;font-size:10px;opacity:.5}#spinner_1XJX2>div{background-color:#3bb30b;height:100%;width:10%;display:inline-block;-webkit-animation:sk-stretchdelay_3hQ8j 1.2s ease-in-out infinite;animation:sk-stretchdelay_3hQ8j 1.2s ease-in-out infinite}#spinner_1XJX2 #rect2_Jse2N{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}#spinner_1XJX2 #rect3_2AcUT{-webkit-animation-delay:-1s;animation-delay:-1s}#spinner_1XJX2 #rect4_1i9P8{-webkit-animation-delay:-.9s;animation-delay:-.9s}#spinner_1XJX2 #rect5_2gk8M{-webkit-animation-delay:-.8s;animation-delay:-.8s}@-webkit-keyframes sk-stretchdelay_3hQ8j{0%,40%,to{transform:scaleY(.4);-webkit-transform:scaleY(.4)}20%{transform:scaleY(1);-webkit-transform:scaleY(1)}}@keyframes sk-stretchdelay_3hQ8j{0%,40%,to{transform:scaleY(.4);-webkit-transform:scaleY(.4)}20%{transform:scaleY(1);-webkit-transform:scaleY(1)}}",""]),e.locals={loading:"loading_14NRk",spinner:"spinner_1XJX2","sk-stretchdelay":"sk-stretchdelay_3hQ8j",rect2:"rect2_Jse2N",rect3:"rect3_2AcUT",rect4:"rect4_1i9P8",rect5:"rect5_2gk8M"}},277:function(t,e,o){var content=o(321);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(21).default)("9ebb1626",content,!0,{sourceMap:!1})},278:function(t,e,o){var content=o(323);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(21).default)("48c4b36f",content,!0,{sourceMap:!1})},279:function(t,e,o){var content=o(328);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(21).default)("45d3433b",content,!0,{sourceMap:!1})},280:function(t,e,o){var content=o(330);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(21).default)("31a35c8f",content,!0,{sourceMap:!1})},281:function(t,e,o){var content=o(332);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(21).default)("c50f35ca",content,!0,{sourceMap:!1})},282:function(t,e,o){var content=o(334);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(21).default)("1958e762",content,!0,{sourceMap:!1})},283:function(t,e,o){var content=o(336);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(21).default)("6a52fafa",content,!0,{sourceMap:!1})},284:function(t,e,o){var content=o(338);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(21).default)("553a9246",content,!0,{sourceMap:!1})},285:function(t,e,o){var content=o(343);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(21).default)("c1724d7a",content,!0,{sourceMap:!1})},286:function(t,e,o){var content=o(345);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(21).default)("12b69609",content,!0,{sourceMap:!1})},287:function(t,e,o){var content=o(347);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(21).default)("119d70af",content,!0,{sourceMap:!1})},288:function(t,e,o){var content=o(349);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(21).default)("eed2fd46",content,!0,{sourceMap:!1})},289:function(t,e,o){var content=o(351);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(21).default)("25b8e6cf",content,!0,{sourceMap:!1})},290:function(t,e,o){var content=o(353);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(21).default)("6ecbe6ef",content,!0,{sourceMap:!1})},291:function(t,e,o){var content=o(355);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(21).default)("656372b2",content,!0,{sourceMap:!1})},292:function(t,e,o){var content=o(357);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(21).default)("7db5b58f",content,!0,{sourceMap:!1})},303:function(t,e,o){"use strict";var r={props:["icon","title","link","linkurl","color","gradientfrom","gradientto","dark"],computed:{headerstyle:function(){var t=this.$props,e=t.color,o=t.gradientfrom,r=t.gradientto;return e?{"background-color":e}:o&&r?{"background-image":"linear-gradient(90deg, ".concat(o," 0%, ").concat(r," 100%)")}:void 0}}},n=o(320),l=o(5);var c=Object(l.a)(r,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{attrs:{id:t.$style.container}},[r("div",{style:t.headerstyle,attrs:{id:t.$style.header}},[r("img",{attrs:{src:o(125)("./"+t.icon)}}),t._v(" "),r("h2",{style:{color:t.dark?"#676767":""}},[t._v(t._s(t.title))]),t._v(" "),t.link&&t.linkurl?r("a",{attrs:{href:t.linkurl,target:"_blank"}},[t._v(t._s(t.link))]):t._e()]),t._v(" "),r("div",{attrs:{id:t.$style.body}},[t._t("default")],2)])},[],!1,function(t){this.$style=n.default.locals||n.default},null,null).exports,d={props:["icon","title","subtitle","value"]},h=o(322);var f=Object(l.a)(d,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{attrs:{id:t.$style.container}},[r("div",{attrs:{id:t.$style.header}},[r("img",{attrs:{src:o(125)("./"+t.icon)}}),t._v(" "),r("div",{attrs:{id:t.$style.title}},[r("b",[t._v(t._s(t.title))]),t._v(" "),t.subtitle?r("small",[t._v(t._s(t.subtitle))]):t._e()]),t._v(" "),t.value?r("h2",[t._v(t._s(t.value))]):t._e(),t._v(" "),r("div",{attrs:{id:t.$style.underline}})]),t._v(" "),r("div",{attrs:{id:t.$style.body}},[t._t("default")],2)])},[],!1,function(t){this.$style=h.default.locals||h.default},null,null).exports,_=o(324),m=o.n(_),v=(o(325),{props:["value"],components:{VueSlider:m.a},computed:{vcomp:{get:function(){return this.$props.value},set:function(t){this.$emit("input",t)}}}}),y=o(327);var x=Object(l.a)(v,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{attrs:{id:t.$style.container}},[o("vue-slider",{attrs:{min:0,max:100,id:t.$style.slider,width:"100%",lazy:!0,contained:!0},model:{value:t.vcomp,callback:function(e){t.vcomp=e},expression:"vcomp"}})],1)},[],!1,function(t){this.$style=y.default.locals||y.default},null,null).exports,$=o(263),k={props:["schedule","param"],components:{BoxSubSection:f,Slider:x,Loading:$.a},computed:{blower:{get:function(){var t=this.controller,e=this.$route.params.box,param=this.$props.param;return t.boxes[e][param].value},set:function(t){var e=this.controller,o=this.$route.params.box,param=this.$props.param;this.$store.dispatch("controllers/set_box_param",{id:e.broker_clientid.value,i:o,key:param,value:Math.round(t)})}},loading:function(){var t=this.controller,e=this.$route.params.box,param=this.$props.param;return t.boxes[e][param].loading},controller:function(){return this.$store.getters["controllers/getSelected"]}}},w=o(329);var S=Object(l.a)(k,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("BoxSubSection",{attrs:{icon:"subsection-blower-"+t.schedule+".svg",title:"Blower power",subtitle:"(when the lights are "+t.schedule+".)",value:t.blower+"%"}},[o("div",{attrs:{id:t.$style.body}},[o("div",{attrs:{id:t.$style.slider}},[o("span",[t._v("0%")]),o("Slider",{model:{value:t.blower,callback:function(e){t.blower=e},expression:"blower"}}),o("span",[t._v("100%")])],1),t._v(" "),t.loading?o("Loading",{attrs:{height:"20pt",width:"40pt"}}):t._e()],1)])},[],!1,function(t){this.$style=w.default.locals||w.default},null,null).exports,B=(o(34),{data:function(){return{showing_add_source:!1}},computed:{sources:function(){var t=this.controller,i=this.$route.params.box;this.controller.boxes[i];return this.$store.getters["liveviews/sources"]("".concat(t.broker_clientid.value,".").concat(i,"."))},controller:function(){return this.$store.getters["controllers/getSelected"]}},methods:{show_add_source:function(){this.$data.showing_add_source=!this.$data.showing_add_source},add_source:function(){var t=this.controller,i=this.$route.params.box,e=this.sources;this.$data.showing_add_source=!1,this.$store.commit("liveviews/add_source",{id:"".concat(t.broker_clientid.value,".").concat(i,".").concat(e.length),url:this.$refs.name.value})},remove_source:function(t,source){t.preventDefault(),t.stopPropagation(),this.$store.commit("liveviews/remove_source",source)},open_pic:function(source){window.open(source.url,source.id)}}}),L=o(331);var j={components:{BoxSection:c,BoxSubSection:f,Liveview:Object(l.a)(B,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{attrs:{id:t.$style.container}},[r("div",{attrs:{id:t.$style.liveviews}},[t._l(t.sources,function(source){return r("div",{class:t.$style.liveview,style:{"background-image":"url("+source.url+")"},on:{click:function(e){return t.open_pic(source)}}},[r("div",[r("img",{attrs:{src:o(124)},on:{click:function(e){return t.remove_source(e,source)}}})])])}),t._v(" "),r("div",{class:t.$style.liveview+" "+t.$style.add,on:{click:t.show_add_source}}),t._v(" "),t.showing_add_source?r("div",{attrs:{id:t.$style.add_source}},[r("input",{ref:"name",attrs:{type:"text"}}),t._v(" "),r("button",{on:{click:function(e){return t.add_source()}}},[t._v("add timelapse")])]):t._e()],2)])},[],!1,function(t){this.$style=L.default.locals||L.default},null,null).exports}},O=o(333);var E=Object(l.a)(j,function(){var t=this.$createElement,e=this._self._c||t;return e("BoxSection",{attrs:{icon:"section-remotecamera.svg",title:"Remote camera",color:"#73C253",link:"Checkout the HowTo build here",linkurl:"https://github.com/supergreenlab/SuperGreenLive"}},[e("BoxSubSection",{attrs:{icon:"subsection-remotecamera-liveview.svg",title:"Live view"}},[e("div",{attrs:{id:this.$style.body}},[e("Liveview")],1),this._v(" "),e("a",{attrs:{id:this.$style.ismyweedok,href:""}},[this._v("Is my weed ok ?")])])],1)},[],!1,function(t){this.$style=O.default.locals||O.default},null,null).exports,M={props:["title","value","color","blink"]},C=o(335);var z={props:["temperature","humidity","timer_advancement"],components:{StatusItem:Object(l.a)(M,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{attrs:{id:t.$style.container}},[o("small",[t._v(t._s(t.title))]),t._v(" "),o("h1",{class:t.blink?t.$style.blink:"",style:{color:t.color},attrs:{id:t.$style.value}},[t._v(t._s(t.value))])])},[],!1,function(t){this.$style=C.default.locals||C.default},null,null).exports,BoxSubSection:f},computed:{temperature_status:function(){var t=this.$props.temperature;return t>35?["TOO HOT","#D04949",!0]:t<18?["TOO COLD","#42BCCC",!0]:["OK","#3BB30B",!1]},humidity_status:function(){var t=this.$props.humidity;return t>75?["TOO HIGH","#D04949",!0]:t<20?["TOO LOW","#42BCCC",!0]:["OK","#3BB30B",!1]},timer_status:function(){var t=this.$props.timer_advancement;return 0==t?["NIGHT","#3F44B9",!1]:t>85?["EVENING","#EDA63B",!1]:t<15?["MORNING","#A6A9E7",!1]:["SUNSHINE","#CEC946",!1]}}},X=o(337);var N=Object(l.a)(z,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("BoxSubSection",{attrs:{icon:"subsection-monitoring-status.svg",title:"Box status"}},[o("div",{attrs:{id:t.$style.container}},[o("div",{class:t.$style.status},[o("StatusItem",{attrs:{title:"Temperature",value:t.temperature_status[0],color:t.temperature_status[1],blink:t.temperature_status[2]}})],1),t._v(" "),o("div",{class:t.$style.status},[o("StatusItem",{attrs:{title:"Humidity",value:t.humidity_status[0],color:t.humidity_status[1],blink:t.humidity_status[2]}})],1),t._v(" "),o("div",{class:t.$style.status},[o("StatusItem",{attrs:{title:"Inside weather",value:t.timer_status[0],color:t.timer_status[1],blink:t.timer_status[2]}})],1)])])},[],!1,function(t){this.$style=X.default.locals||X.default},null,null).exports,G=(o(339),{components:{Loading:$.a},data:function(){return{gwidth:-1,gheight:-1}},props:{min:Number,max:Number,title:String,color:String,metrics:Array,loading:Boolean,suffix:String},computed:{width:function(){return-1==this.$data.gwidth&&(this.$data.gwidth=this.$refs.graph.clientWidth),this.$data.gwidth},height:function(){return-1==this.$data.gheight&&(this.$data.gheight=this.$refs.graph.clientHeight),this.$data.gheight},fill_points:function(){if(!this.$refs.graph)return"";var t=this.width,e=this.height,o=this.$props,r=o.min,n=o.max,l=o.metrics,c=t/(l.length-1),d=r-.2*(n-r),h=n+.2*(n-r),f="0,".concat(e," "),_=0;for(var i in l){var m=(l[i]-d)/(h-d);f+="".concat(_,",").concat(m*e," "),_+=c}return f+="".concat(t,",").concat(e)},stroke_path:function(){if(!this.$refs.graph)return"";var t=this.width,e=this.height,o=this.$props,r=o.min,n=o.max,l=o.metrics,c=t/(l.length-1),d=r-.2*(n-r),h=n+.2*(n-r),f="",_=0;for(var i in l){f+=0==i?"M":"L";var m=(l[i]-d)/(h-d);f+="".concat(_," ").concat(m*e," "),_+=c}return f},max_value:function(){return this.$props.metrics.sort(function(t,e){return t<e})[0]},min_value:function(){return this.$props.metrics.sort(function(t,e){return t>e})[0]},max_top:function(){if(!this.$refs.graph)return"";this.width;var t=this.height,e=this.$props,o=(e.metrics,e.min),r=e.max,n=o-.2*(r-o),l=r+.2*(r-o);return(this.max_value-n)/(l-n)*t+4},min_top:function(){if(!this.$refs.graph)return"";this.width;var t=this.height,e=this.$props,o=(e.metrics,e.min),r=e.max,n=o-.2*(r-o),l=r+.2*(r-o);return t-(this.min_value-n)/(l-n)*t+4}},methods:{resize:function(){this.$data.gwidth=this.$refs.graph.clientWidth,this.$data.gheight=this.$refs.graph.clientHeight}},mounted:function(){window.addEventListener("resize",this.resize,!0)},beforeDestroy:function(){window.removeEventListener("resize",this.resize,!0)}}),D=o(342);var I={components:{BoxSection:c,BoxSubSection:f,Status:N,Graphs:Object(l.a)(G,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{attrs:{id:t.$style.container}},[o("div",{ref:"graph",attrs:{id:t.$style.graph}},[o("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"}},[t.loading?t._e():o("g",[o("polygon",{style:{fill:t.color,opacity:.2},attrs:{points:t.fill_points}}),t._v(" "),o("path",{style:{stroke:t.color,"stroke-width":2},attrs:{d:t.stroke_path,fill:"none"}})])]),t._v(" "),t.loading?t._e():o("div",{class:t.$style.line,style:{bottom:t.max_top+"px",color:t.color},attrs:{id:t.$style.max_line}},[t._v(t._s(this.max_value)+t._s(t.suffix))]),t._v(" "),t.loading?t._e():o("div",{class:t.$style.line,style:{top:t.min_top+"px",color:t.color},attrs:{id:t.$style.min_line}},[t._v(t._s(this.min_value)+t._s(t.suffix))])]),t._v(" "),t.loading?o("Loading",{attrs:{width:"80pt",height:"50pt"}}):t._e()],1)},[],!1,function(t){this.$style=D.default.locals||D.default},null,null).exports},created:function(){var t=this.$store.getters["controllers/getSelected"],e=this.$route.params.box,o="temphumi.".concat(t.broker_clientid.value,".").concat(e);this.$store.dispatch("graphs/load_graph",{id:o,url:"http://metrics.supergreenlab.com?box=".concat(e,"&controller=").concat(t.broker_clientid.value)})},computed:{loading:function(){var t=this.$store.getters["controllers/getSelected"],e=this.$route.params.box,o="temphumi.".concat(t.broker_clientid.value,".").concat(e),source=this.$store.getters["graphs/source"](o);return!source||!source.loaded},temperature:function(){var t=this.$store.getters["controllers/getSelected"],e=this.$route.params.box,o="temphumi.".concat(t.broker_clientid.value,".").concat(e),source=this.$store.getters["graphs/source"](o);return source&&source.metrics.temp?source.metrics.temp.map(function(t){return t[1]}):[]},last_temperature:function(){var t=this.temperature;if(t&&t.length){var e=t[t.length-1];return e<-100||e>100?"error":"".concat(e,"°")}return"-"},humidity:function(){var t=this.$store.getters["controllers/getSelected"],e=this.$route.params.box,o="temphumi.".concat(t.broker_clientid.value,".").concat(e),source=this.$store.getters["graphs/source"](o);return source&&source.metrics.humi?source.metrics.humi.map(function(t){return t[1]}):[]},last_humidity:function(){var t=this.humidity;if(t&&t.length){var e=t[t.length-1];return e<0||e>100?"error":"".concat(e,"%")}return"-"},timer_advancement:function(){var t=this.$store.getters["controllers/getSelected"],e=this.$route.params.box;if(t.boxes[e].timer_output.value<=0)return 0;var o=3600*t.boxes[e].on_hour.value+60*t.boxes[e].on_min.value,r=3600*t.boxes[e].off_hour.value+60*t.boxes[e].off_min.value,dt=new Date,n=dt.getSeconds()+60*dt.getMinutes()+3600*dt.getHours();return(o<n?n-o:n+86400-o)/(o<r?r-o:r+86400-o)*100}}},T=o(344);var H=Object(l.a)(I,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("BoxSection",{attrs:{icon:"section-monitoring.svg",title:"Status & Monitoring",color:"#0B81B3"}},[o("Status",{attrs:{temperature:t.last_temperature,humidity:t.last_humidity,timer_advancement:t.timer_advancement}}),t._v(" "),o("BoxSubSection",{attrs:{icon:"subsection-monitoring-temperature.svg",title:"Temperature",value:t.last_temperature}},[o("div",{class:t.$style.body},[o("Graphs",{attrs:{title:"Temperature",color:"#3bb30b",metrics:t.temperature,loading:t.loading,min:10,max:40,suffix:"°"}})],1)]),t._v(" "),o("BoxSubSection",{attrs:{icon:"subsection-monitoring-humidity.svg",title:"Humidity",value:t.last_humidity}},[o("div",{class:t.$style.body},[o("Graphs",{attrs:{title:"Humidity",color:"#0b81b3",metrics:t.humidity,loading:t.loading,min:0,max:100,suffix:"%"}})],1)])],1)},[],!1,function(t){this.$style=T.default.locals||T.default},null,null).exports,Z={components:{BoxSection:c,BlowerControlSubSection:S},computed:{controller:function(){return this.$store.getters["controllers/getSelected"]}},mounted:function(){var t=this.controller,e=this.$route.params.box;this.$store.dispatch("controllers/load_box_param",{id:t.broker_clientid.value,i:e,key:"blower_day"}),this.$store.dispatch("controllers/load_box_param",{id:t.broker_clientid.value,i:e,key:"blower_night"})}},A=o(346);var R=Object(l.a)(Z,function(){var t=this.$createElement,e=this._self._c||t;return e("BoxSection",{attrs:{icon:"section-blower.svg",title:"Blower control",color:"#7DB0BB"}},[e("div",{attrs:{id:this.$style.body}},[e("BlowerControlSubSection",{attrs:{schedule:"on",param:"blower_day"}}),this._v(" "),e("BlowerControlSubSection",{attrs:{schedule:"off",param:"blower_night"}})],1)])},[],!1,function(t){this.$style=A.default.locals||A.default},null,null).exports,Q=(o(142),{components:{Slider:x,Loading:$.a},props:["j","led"],computed:{loading:function(){var t=this.$props.led;return t.enabled.loading||t.dim.loading||t.box.loading},dim:{get:function(){return this.$props.led.dim.value},set:function(t){var e=this.$props,o=e.j,r=(e.led,this.controller);this.$store.dispatch("controllers/set_led_param",{id:r.broker_clientid.value,i:o,key:"dim",value:Math.round(t)})}},controller:function(){return this.$store.getters["controllers/getSelected"]}},methods:{toggleOnOff:function(){var t=this.$props,e=t.j,o=t.led,r=this.controller;this.$store.dispatch("controllers/set_led_param",{id:r.broker_clientid.value,i:e,key:"dim",value:0==o.dim.value?100:0})}},mounted:function(){var t=this.$props,e=t.j,o=(t.led,this.controller);this.$store.dispatch("controllers/load_led_param",{id:o.broker_clientid.value,i:e,key:"enabled"}),this.$store.dispatch("controllers/load_led_param",{id:o.broker_clientid.value,i:e,key:"dim"}),this.$store.dispatch("controllers/load_led_param",{id:o.broker_clientid.value,i:e,key:"box"})}}),F=o(348);var P={components:{BoxSection:c,BoxSubSection:f,LedControl:Object(l.a)(Q,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{attrs:{id:t.$style.container}},[o("b",[t._v(t._s(t.j+1))]),t._v(" "),o("div",{attrs:{id:t.$style.box}},[o("div",{class:t.led.dim.value>75?t.$style.on:t.led.dim.value>25?t.$style.mid:t.$style.off,attrs:{id:t.$style.onoff},on:{click:t.toggleOnOff}}),t._v(" "),o("b",[t._v(t._s(t.led.dim.value)+"%")])]),t._v(" "),o("div",{attrs:{id:t.$style.slider}},[o("Slider",{model:{value:t.dim,callback:function(e){t.dim=e},expression:"dim"}})],1),t._v(" "),t.loading?o("Loading",{attrs:{width:"30pt",height:"20pt"}}):t._e(),t._v(" "),1!=t.led.enabled.value?o("div",{attrs:{id:t.$style.disabled}},[t._v("disabled")]):t._e()],1)},[],!1,function(t){this.$style=F.default.locals||F.default},null,null).exports,Loading:$.a},computed:{timerpower:function(){this.controller;var t=this.$route.params.box;return this.controller.boxes[t].timer_output.value},controller:function(){return this.$store.getters["controllers/getSelected"]},loading:function(){return-1!=this.controller.leds.findIndex(function(t){return t.dim.loading})}},methods:{master:function(t){var e=this.controller,o=this.$route.params.box;for(var i in e.leds){if(e.leds[i].box.value==o){var r=e.leds[i].dim.value+t;this.$store.dispatch("controllers/set_led_param",{id:e.broker_clientid.value,i:i,key:"dim",value:Math.round(r)})}}},masterplus:function(){this.master(25)},masterminus:function(){this.master(-25)}},mounted:function(){var t=this.controller,e=this.$route.params.box;for(var i in t.leds){t.leds[i].box.value==e&&this.$store.dispatch("controllers/load_led_param",{id:t.broker_clientid.value,i:i,key:"dim"})}this.$store.dispatch("controllers/load_box_param",{id:t.broker_clientid.value,i:e,key:"timer_output"})}},Y=o(350);var J=Object(l.a)(P,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("BoxSection",{attrs:{icon:"section-light-dimming.svg",title:"Light dimming",color:"#F4F4E7",dark:!0}},[o("div",{attrs:{id:t.$style.body}},[o("div",{attrs:{id:t.$style.left}},[o("BoxSubSection",{attrs:{icon:"subsection-dimming-master.svg",title:"Master switch",value:"50w"}},[o("small",{attrs:{id:t.$style.masterhint}},[t._v("Dims all leds +25% or -25% at once.")]),t._v(" "),o("div",{attrs:{id:t.$style.masterbody}},[o("div",{class:t.$style.masterbuttons,attrs:{id:t.$style.plus},on:{click:t.masterplus}}),t._v(" "),o("div",{attrs:{id:t.$style.separator}}),t._v(" "),o("div",{class:t.$style.masterbuttons,attrs:{id:t.$style.minus},on:{click:t.masterminus}}),t._v(" "),t.loading?o("Loading",{attrs:{width:"50pt",height:"30pt"}}):t._e()],1)])],1),t._v(" "),o("div",{attrs:{id:t.$style.right}},[o("BoxSubSection",{attrs:{icon:"subsection-dimming-independent.svg",title:"Independent light dimming"}},[o("div",{attrs:{id:t.$style.timer}},[t._v("Current timer desired power: "),o("span",{attrs:{id:t.$style.timerpower}},[t._v(t._s(t.timerpower)+"%")])]),t._v(" "),o("div",{attrs:{id:t.$style.independentbody}},t._l(t.controller.leds,function(e,r){return e.box.value==t.$route.params.box?o("div",{key:t.controller.broker_clientid.value+r,class:t.$style.led},[o("LedControl",{attrs:{j:r,led:e}})],1):t._e()}),0)])],1)])])},[],!1,function(t){this.$style=Y.default.locals||Y.default},null,null).exports,W={props:["title","icon","subtitle","color","selected"],methods:{onClick:function(){this.$emit("click")}}},U=o(352);var K={components:{BoxSection:c,BoxSubSection:f,ScheduleButtons:Object(l.a)(W,function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{class:t.selected?t.$style.selected:"",attrs:{id:t.$style.container},on:{click:t.onClick}},[t._v("\n  "+t._s(t.title)+"\n  "),r("img",{attrs:{src:o(125)("./"+t.icon)}}),t._v(" "),r("span",{style:{color:t.color}},[t._v(t._s(t.subtitle))])])},[],!1,function(t){this.$style=U.default.locals||U.default},null,null).exports,Loading:$.a},computed:{timespan:function(){var t=this.controller,e=this.$route.params.box,o=t.boxes[e].on_hour.value,r=t.boxes[e].off_hour.value;return o<r?r-o:r+24-o},on_hour:function(){var t=this.controller,e=this.$route.params.box;return t.boxes[e].on_hour.value},on_min:function(){var t=this.controller,e=this.$route.params.box;return t.boxes[e].on_min.value},off_hour:function(){var t=this.controller,e=this.$route.params.box;return t.boxes[e].off_hour.value},off_min:function(){var t=this.controller,e=this.$route.params.box;return t.boxes[e].off_min.value},controller:function(){return this.$store.getters["controllers/getSelected"]},loading:function(){var t=this.controller,e=this.$route.params.box;return t.boxes[e].on_hour.loading||t.boxes[e].off_hour.loading}},methods:{schedule_for:function(t,e){var o=this.controller,r=this.$route.params.box,n=o.boxes[r].on_hour.value,l=o.boxes[r].off_hour.value;return t=void 0!==t?t:this.timespan,{on_hour:(e=void 0!==e?e:n<l)?12-t/2:24-t/2,off_hour:e?12+t/2:t/2}},schedule:function(t,e){var o=this.controller,r=this.$route.params.box,n=this.schedule_for(t,e);this.$store.dispatch("controllers/set_box_param",{id:o.broker_clientid.value,i:r,key:"on_hour",value:n.on_hour}),this.$store.dispatch("controllers/set_box_param",{id:o.broker_clientid.value,i:r,key:"on_min",value:0}),this.$store.dispatch("controllers/set_box_param",{id:o.broker_clientid.value,i:r,key:"off_hour",value:n.off_hour}),this.$store.dispatch("controllers/set_box_param",{id:o.broker_clientid.value,i:r,key:"off_min",value:0})},veg:function(){var t=this.controller,e=this.$route.params.box;t.boxes[e].on_hour.value,t.boxes[e].off_hour.value;this.schedule(18)},bloom:function(){var t=this.controller,e=this.$route.params.box;t.boxes[e].on_hour.value,t.boxes[e].off_hour.value;this.schedule(12)},day:function(){this.schedule(this.timespan,!0)},night:function(){this.schedule(this.timespan,!1)},pad:function(t){return("0"+t).substr(-2)}},mounted:function(){var t=this.controller,e=this.$route.params.box;this.$store.dispatch("controllers/load_box_param",{id:t.broker_clientid.value,i:e,key:"on_hour"}),this.$store.dispatch("controllers/load_box_param",{id:t.broker_clientid.value,i:e,key:"off_hour"})}},V=o(354);var tt={components:{RemoteCamera:E,Monitoring:H,BlowerControl:R,Dimming:J,Schedule:Object(l.a)(K,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("BoxSection",{attrs:{icon:"section-nightday.svg",title:"Night and day schedules",gradientfrom:"#3F44B9",gradientto:"#CEC946"}},[o("section",{attrs:{id:t.$style.current}},[t._v("\n    Current timer settings:  "),o("span",{attrs:{id:t.$style.currenthours}},[t._v(t._s(t.on_hour)+":"+t._s(t.pad(t.on_min))+" - "+t._s(t.off_hour)+":"+t._s(t.pad(t.off_min)))])]),t._v(" "),o("section",{attrs:{id:t.$style.container}},[o("BoxSubSection",{attrs:{icon:"subsection-nightday-sun.svg",title:"Day schedule"}},[o("div",{class:t.$style.body},[o("ScheduleButtons",{attrs:{title:"18h",icon:"button-nightday-veg.svg",subtitle:"Veg",color:"#3BB30B",selected:t.timespan>12},on:{click:t.veg}}),t._v(" "),o("ScheduleButtons",{attrs:{title:"12h",icon:"button-nightday-bloom.svg",subtitle:"Bloom",color:"#E561A0",selected:t.timespan<=12},on:{click:t.bloom}}),t._v(" "),t.loading?o("Loading",{attrs:{width:"50pt",height:"30pt"}}):t._e()],1)]),t._v(" "),o("BoxSubSection",{attrs:{icon:"subsection-nightday-shift.svg",title:"Night/Day shift"}},[o("div",{class:t.$style.body},[o("ScheduleButtons",{attrs:{title:t.schedule_for(t.timespan,!0).on_hour+"h - "+this.schedule_for(t.timespan,!0).off_hour+"h",icon:"button-nightday-dayshift.svg",subtitle:"Day",color:"#CEC946",selected:t.on_hour<t.off_hour},on:{click:t.day}}),t._v(" "),o("ScheduleButtons",{attrs:{title:t.schedule_for(t.timespan,!1).on_hour+"h - "+this.schedule_for(t.timespan,!1).off_hour+"h",icon:"button-nightday-nightshift.svg",subtitle:"Night",color:"#3F44B9",selected:t.on_hour>t.off_hour},on:{click:t.night}}),t._v(" "),t.loading?o("Loading",{attrs:{width:"50pt",height:"30pt"}}):t._e()],1)])],1)])},[],!1,function(t){this.$style=V.default.locals||V.default},null,null).exports,Loading:$.a},computed:{boxnum:function(){var t=this.$route.params.box;return parseInt(t)+1},enabled:function(){var t=this.$store.getters["controllers/getSelected"],e=this.$route.params.box;return t.boxes[e].enabled.value},loadingenable:function(){var t=this.$store.getters["controllers/getSelected"],e=this.$route.params.box;return t.boxes[e].enabled.loading}},methods:{enable:function(){var t=this.$store.getters["controllers/getSelected"],e=this.$route.params.box;this.$store.dispatch("controllers/set_box_param",{id:t.broker_clientid.value,i:e,key:"enabled",value:1}),this.$store.dispatch("controllers/set_box_param",{id:t.broker_clientid.value,i:e,key:"timer_type",value:1})}},mounted:function(){var t=this.$store.getters["controllers/getSelected"],e=this.$route.params.box;this.$store.dispatch("controllers/load_box_param",{id:t.broker_clientid.value,i:e,key:"enabled"})}},et=o(356);var it=Object(l.a)(tt,function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.enabled?o("section",{attrs:{id:t.$style.container}},[o("div",{attrs:{id:t.$style.header}},[o("h1",[t._v("Box #"+t._s(t.boxnum))])]),t._v(" "),o("RemoteCamera"),t._v(" "),o("Monitoring"),t._v(" "),o("BlowerControl"),t._v(" "),o("Dimming"),t._v(" "),o("Schedule")],1):o("section",{attrs:{id:t.$style.containercenter}},[o("button",{on:{click:function(e){return t.enable()}}},[t._v("Enable")]),t._v(" "),t.loadingenable?o("Loading",{attrs:{width:"115pt",height:"80pt"}}):t._e()],1)},[],!1,function(t){this.$style=et.default.locals||et.default},null,null);e.a=it.exports},320:function(t,e,o){"use strict";var r=o(277),n=o.n(r);e.default=n.a},321:function(t,e,o){(e=t.exports=o(20)(!1)).push([t.i,"#container_RPH-F{margin:0 auto;flex-direction:column}#container_RPH-F,#header_3fssZ{position:relative;display:flex;width:100%}#header_3fssZ{align-items:center;padding:7pt 10pt;color:#fff;box-shadow:0 4px 4px rgba(0,0,0,.25)}#header_3fssZ>img{margin-right:10pt}#header_3fssZ>a{position:absolute;right:5pt;bottom:5pt;cursor:pointer;text-decoration:underline;color:#fff;font-size:.8em}#header_3fssZ>a:hover{opacity:.8}#body_2dsq-{padding-left:20pt}",""]),e.locals={container:"container_RPH-F",header:"header_3fssZ",body:"body_2dsq-"}},322:function(t,e,o){"use strict";var r=o(278),n=o.n(r);e.default=n.a},323:function(t,e,o){(e=t.exports=o(20)(!1)).push([t.i,"#container_dAIfI{display:flex;flex-direction:column;width:100%}#header_PpB1T{position:relative;display:flex;width:center;margin:5pt;padding:2pt;align-items:center;min-height:45pt}#title_17dcK{flex:1;flex-direction:column;color:#777;font-weight:600}#title_17dcK>*{display:block}#header_PpB1T>img{margin-right:10pt}#header_PpB1T>h2{color:#47b71a}#underline_3G7Bm{position:absolute;left:30pt;right:0;bottom:0;height:1pt;background-color:#898989}#body_2flNB{flex:1;position:relative;padding:10pt}",""]),e.locals={container:"container_dAIfI",header:"header_PpB1T",title:"title_17dcK",underline:"underline_3G7Bm",body:"body_2flNB"}},327:function(t,e,o){"use strict";var r=o(279),n=o.n(r);e.default=n.a},328:function(t,e,o){(e=t.exports=o(20)(!1)).push([t.i,"#container_3zvXL{flex:1;display:flex;align-items:center;justify-content:center;cursor:pointer}#slider_3jWZe{width:100%}",""]),e.locals={container:"container_3zvXL",slider:"slider_3jWZe"}},329:function(t,e,o){"use strict";var r=o(280),n=o.n(r);e.default=n.a},330:function(t,e,o){(e=t.exports=o(20)(!1)).push([t.i,"#body_1xNVW{flex:1;position:relative;display:flex;color:#777;font-weight:400}#slider_2-QAp{width:100%}#slider_2-QAp>*{display:block}#slider_2-QAp>span:first-of-type{margin-right:10pt}#slider_2-QAp>span:nth-of-type(2){margin-left:10pt}",""]),e.locals={body:"body_1xNVW",slider:"slider_2-QAp"}},331:function(t,e,o){"use strict";var r=o(281),n=o.n(r);e.default=n.a},332:function(t,e,o){e=t.exports=o(20)(!1);var r=o(85)(o(129));e.push([t.i,"#container_2t0B9{flex:1}#liveviews_1ATKB{position:relative;display:flex;margin-top:10pt;flex-wrap:wrap}.liveview_5HZ5y{width:140pt;height:110pt;background-position:50%;background-repeat:no-repeat;background-size:contain;cursor:pointer;margin:0 4pt 4pt 0}.liveview_5HZ5y>div>img{margin-top:4pt;margin-left:2pt;opacity:.5;transition:opacity .2s}.liveview_5HZ5y>div>img:hover{opacity:1}.add_26HZs{background-image:url("+r+")}#add_source_2G8Lo{display:flex;flex-direction:column;justify-content:center;align-items:center;position:absolute;width:100%;height:100%;left:0;top:0;background-color:hsla(0,0%,100%,.7)}#add_source_2G8Lo>input{padding:2pt;margin:5pt}#add_source_2G8Lo>button,#add_source_2G8Lo>input{border:1pt solid #bdbdbd;border-radius:2pt}#add_source_2G8Lo>button{background:transparent}",""]),e.locals={container:"container_2t0B9",liveviews:"liveviews_1ATKB",liveview:"liveview_5HZ5y",add:"add_26HZs",add_source:"add_source_2G8Lo"}},333:function(t,e,o){"use strict";var r=o(282),n=o.n(r);e.default=n.a},334:function(t,e,o){(e=t.exports=o(20)(!1)).push([t.i,"#body_LqQbM{display:flex;flex:1;width:100%}#ismyweedok_kf3BS{display:block;text-align:right}",""]),e.locals={body:"body_LqQbM",ismyweedok:"ismyweedok_kf3BS"}},335:function(t,e,o){"use strict";var r=o(283),n=o.n(r);e.default=n.a},336:function(t,e,o){(e=t.exports=o(20)(!1)).push([t.i,"#container_1_FjJ{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#777}#value_1c8Ll{margin:5pt 0;color:#3bb30b}.blink_wYkuF{-webkit-animation:blinker_2iMh5 1s linear infinite;animation:blinker_2iMh5 1s linear infinite}@-webkit-keyframes blinker_2iMh5{50%{opacity:.4}}@keyframes blinker_2iMh5{50%{opacity:.4}}",""]),e.locals={container:"container_1_FjJ",value:"value_1c8Ll",blink:"blink_wYkuF",blinker:"blinker_2iMh5"}},337:function(t,e,o){"use strict";var r=o(284),n=o.n(r);e.default=n.a},338:function(t,e,o){(e=t.exports=o(20)(!1)).push([t.i,"#container_1_8Iq{display:flex;flex-wrap:wrap}.status_hPTBL{display:flex;flex-basis:20%}",""]),e.locals={container:"container_1_8Iq",status:"status_hPTBL"}},342:function(t,e,o){"use strict";var r=o(285),n=o.n(r);e.default=n.a},343:function(t,e,o){(e=t.exports=o(20)(!1)).push([t.i,"#container_2XcF5{flex:1;display:flex;margin:10pt}#graph_N53D4{flex:1;position:relative;border-radius:1pt;border-left:1.5pt solid #ddd;border-bottom:1.5pt solid #ddd}.line_2zpeu{position:absolute;left:-30pt;width:calc(100% + 30pt);font-size:1.2em;font-weight:600}#max_line_p_DJP{padding-bottom:2pt;border-bottom:2px dashed #c4c4c4}#min_line_3SELA{padding-top:2pt;border-top:2px dashed #c4c4c4}",""]),e.locals={container:"container_2XcF5",graph:"graph_N53D4",line:"line_2zpeu",max_line:"max_line_p_DJP",min_line:"min_line_3SELA"}},344:function(t,e,o){"use strict";var r=o(286),n=o.n(r);e.default=n.a},345:function(t,e,o){(e=t.exports=o(20)(!1)).push([t.i,".body_1uEXk{display:flex;flex:1}",""]),e.locals={body:"body_1uEXk"}},346:function(t,e,o){"use strict";var r=o(287),n=o.n(r);e.default=n.a},347:function(t,e,o){(e=t.exports=o(20)(!1)).push([t.i,"#body_3cTND{display:flex;flex:1;width:100%}",""]),e.locals={body:"body_3cTND"}},348:function(t,e,o){"use strict";var r=o(288),n=o.n(r);e.default=n.a},349:function(t,e,o){e=t.exports=o(20)(!1);var r=o(85),n=r(o(135)),l=r(o(133)),c=r(o(134));e.push([t.i,"#container_2pXWa{display:flex;position:relative;flex-direction:column;align-items:center;justify-content:center;margin:4pt}#container_2pXWa>b{align-self:flex-start;margin-left:2pt;margin-bottom:-6pt;z-index:2;text-shadow:-2px -2px 0 #fff,2px -2px 0 #fff,-2px 2px 0 #fff,2px 2px 0 #fff}#box_2SGh4{display:flex;align-items:center;justify-content:center;flex-direction:column;background-color:#fff;border:1px solid #ebebeb;border-radius:3pt;color:#8b8b8b;width:45pt;height:45pt}#onoff_2qaaq{width:25pt;height:25pt;align-self:flex-end;margin:2pt;background-repeat:no-repeat;background-size:contain;background-position:50%;cursor:pointer}.on_3w_uQ{background-image:url("+n+")}.mid_24UOS{background-image:url("+l+")}.off_1DNtX{background-image:url("+c+")}#disabled_c9nFd,#slider_zDXRl{width:100%}#disabled_c9nFd{position:absolute;display:flex;align-items:center;justify-content:center;height:100%;left:0;top:0;background-color:hsla(0,0%,100%,.8);color:#d04949;z-index:1000}",""]),e.locals={container:"container_2pXWa",box:"box_2SGh4",onoff:"onoff_2qaaq",on:"on_3w_uQ",mid:"mid_24UOS",off:"off_1DNtX",disabled:"disabled_c9nFd",slider:"slider_zDXRl"}},350:function(t,e,o){"use strict";var r=o(289),n=o.n(r);e.default=n.a},351:function(t,e,o){e=t.exports=o(20)(!1);var r=o(85),n=r(o(131)),l=r(o(130));e.push([t.i,"#body_1KsWQ{display:flex;position:relative}#timer_2Icoa{display:flex;flex:1;width:100%;padding:0 0 5pt 15pt;color:#777;font-weight:400}#timerpower_bnYe9{color:#47b71a;font-weight:600}#left_2-thr{flex:0.6}#right_1zRuG{flex:1}#masterbody_29m3-{display:flex;align-items:center;justify-content:center}#masterhint_3SPZQ{align-self:flex-start;color:#777;margin:0 0 10pt}#independentbody_LqnBb{flex:1;display:flex;flex-wrap:wrap}.led_Apr4x{flex:25%;display:flex;align-items:center;justify-content:center}.masterbuttons__6Uz-{width:50pt;height:50pt;background-position:50%;background-size:contain;background-repeat:no-repeat;cursor:pointer;border:1px solid #ebebeb;border-radius:3pt;margin:20pt 0}.masterbuttons__6Uz-:hover{opacity:.8}.masterbuttons__6Uz-:active{opacity:.5}#plus_2E4eL{background-image:url("+n+")}#separator_pmOeS{width:1pt;height:40pt;background-color:#c4c4c4;margin:10pt}#minus_1gcL2{background-image:url("+l+")}",""]),e.locals={body:"body_1KsWQ",timer:"timer_2Icoa",timerpower:"timerpower_bnYe9",left:"left_2-thr",right:"right_1zRuG",masterbody:"masterbody_29m3-",masterhint:"masterhint_3SPZQ",independentbody:"independentbody_LqnBb",led:"led_Apr4x",masterbuttons:"masterbuttons__6Uz-",plus:"plus_2E4eL",separator:"separator_pmOeS",minus:"minus_1gcL2"}},352:function(t,e,o){"use strict";var r=o(290),n=o.n(r);e.default=n.a},353:function(t,e,o){(e=t.exports=o(20)(!1)).push([t.i,"#container_2ykZM{display:flex;flex-direction:column;align-items:center;justify-content:center;border:1pt solid #c4c4c4;border-radius:3pt;padding:10pt;margin:5pt;width:100pt;height:100pt;transition:box-shadow .2s;cursor:pointer;color:#777}#container_2ykZM>img{margin:10pt 0}.selected_25dgS{box-shadow:0 0 0 2pt #3ab20b}",""]),e.locals={container:"container_2ykZM",selected:"selected_25dgS"}},354:function(t,e,o){"use strict";var r=o(291),n=o.n(r);e.default=n.a},355:function(t,e,o){(e=t.exports=o(20)(!1)).push([t.i,"#container_sEu1Y,#current_1GOqp{display:flex}#current_1GOqp{flex:1;width:100%;padding:20pt 0 0 10pt;color:#777;font-weight:400}#currenthours_2Zt2W{color:#47b71a;font-weight:600}.body_3R8lu{display:flex;flex:1;width:100%;font-weight:600}",""]),e.locals={container:"container_sEu1Y",current:"current_1GOqp",currenthours:"currenthours_2Zt2W",body:"body_3R8lu"}},356:function(t,e,o){"use strict";var r=o(292),n=o.n(r);e.default=n.a},357:function(t,e,o){(e=t.exports=o(20)(!1)).push([t.i,"#container_20l40{background-color:#fff;margin:0 5pt 0 10pt;max-width:700pt;box-shadow:0 0 5px rgba(0,0,0,.15)}#container_20l40,#containercenter_3R3Uf{display:flex;flex-direction:column}#containercenter_3R3Uf{align-items:center;justify-content:center;height:100%}#containercenter_3R3Uf>button{background-color:#3bb30b;border:none;padding:5pt 20pt;border-radius:3pt;color:#fff;cursor:pointer}#header_3EGVY{padding:0 20pt}",""]),e.locals={container:"container_20l40",containercenter:"containercenter_3R3Uf",header:"header_3EGVY"}}}]);